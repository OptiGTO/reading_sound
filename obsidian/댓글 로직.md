```mermaid
flowchart TD
    Start["사용자 액션"]
    Start1["게시글 페이지 접속"]
    Start2["댓글 새로고침"]
    Start3["페이지 새로고침"]
    
    Start --> Start1
    Start --> Start2
    Start --> Start3
    
    Start1 & Start2 & Start3 --> A["상세 페이지 접근 (게시글 상세보기)"]        
    B{"요청 방식 확인<br>(GET vs POST)"}              
    A --> B                                       
    B -- "GET" --> C["빈 댓글 폼 생성"]                  
    B -- "POST" --> D["사용자 인증 확인"]                               
    D -- "미인증" --> E["에러 메시지 출력<br>로그인 리다이렉트"]        
    D -- "인증" --> F["CommentForm (POST 데이터) 생성"]         
    F --> G{"폼 유효성 검사"}                                  
    G -- "유효" --> H["댓글 객체 생성<br>(작성자, 대상 설정)"]          
    H --> I["댓글 DB 저장"]                                        
    I --> J["성공 메시지 출력<br>현재 페이지 리다이렉트"]      
    G -- "오류" --> K["오류 메시지 출력"]                         
    C & J & K --> L["ContentType 조회 및 댓글 목록 불러오기"]        
    L --> M["템플릿 렌더링 및 페이지 출력"]                      
```

GET 요청은 다음 세 가지 상황에서 발생합니다:

1. 사용자가 게시글 페이지에 처음 접속할 때
2. 댓글 목록을 새로고침할 때
3. 페이지 자체를 새로고침할 때

이러한 GET 요청들은 모두 동일한 처리 흐름을 따르게 되며, 결과적으로 최신 댓글 목록과 함께 페이지를 렌더링하게 됩니다.

2. POST 요청 처리 흐름
인증 확인
미인증 → 로그인 페이지 리다이렉트
인증 → 다음 단계 진행
댓글 처리
CommentForm으로 POST 데이터 처리
폼 유효성 검사
유효한 경우:
댓글 객체 생성 (작성자, 대상 게시글 설정)
DB 저장
성공 메시지와 함께 페이지 리다이렉트
유효하지 않은 경우:
오류 메시지 출력
3. 최종 출력
ContentType 기반으로 댓글 목록 조회
템플릿 렌더링하여 페이지 출력