<!-- community/templates/community/general_post_detail.html -->     
{% extends "community/base.html" %}                                <!-- ë² ì´ìŠ¤ í…œí”Œë¦¿ í™•ì¥  // í™•ì¥ -->
{% load static %}                                                  <!-- ìŠ¤íƒœí‹± íŒŒì¼ ë¡œë“œ  // ìŠ¤íƒœí‹± íŒŒì¼ ë¡œë“œ -->

{% block title %}{{ post.title }}{% endblock %}                    <!-- í˜ì´ì§€ ì œëª©ì— ê²Œì‹œê¸€ ì œëª© ì‚¬ìš©  // ì œëª© ì‚¬ìš© -->

{% block content %}
<article class="post-detail">                                       <!-- ê²Œì‹œê¸€ ìƒì„¸ ì •ë³´ ì˜ì—­  // ê²Œì‹œê¸€ ìƒì„¸ ì˜ì—­ -->
  <h1>{{ post.title }}</h1>                                           <!-- ê²Œì‹œê¸€ ì œëª© ì¶œë ¥  // ì œëª© ì¶œë ¥ -->
  <p>ì‘ì„±ì: {{ post.writer.username }}</p>                           <!-- ì‘ì„±ì ì •ë³´ ì¶œë ¥  // ì‘ì„±ì ì¶œë ¥ -->
  <div class="post-content">
    {{ post.content|safe }}                                           <!-- ë‚´ìš© ë Œë”ë§ (HTML í—ˆìš©)  // ë‚´ìš© ì¶œë ¥ -->
  </div>
  
  <!-- ê´€ë ¨ ì´ë¯¸ì§€ ì¶œë ¥ (ìˆëŠ” ê²½ìš°)  // ì´ë¯¸ì§€ ì¶œë ¥ -->
  {% if post.postimage_set.all %}
    <div class="post-images">
      {% for image in post.postimage_set.all %}
        <img src="{{ image.image.url }}" alt="ê²Œì‹œê¸€ ì´ë¯¸ì§€" style="max-width: 300px;">  <!-- ì´ë¯¸ì§€ íƒœê·¸  // ì´ë¯¸ì§€ íƒœê·¸ -->
      {% endfor %}
    </div>
  {% endif %}

  <!-- ì¢‹ì•„ìš”(í•˜ëª¨ë‹ˆ) ë²„íŠ¼  // ì¢‹ì•„ìš” ë²„íŠ¼ -->
  <div class="like-container" style="margin-top:20px;">             <!-- ë²„íŠ¼ ê°ì‹¸ëŠ” ì˜ì—­  // ê°ì‹¸ëŠ” ì˜ì—­ -->
    <button id="like-btn" 
            data-post-id="{{ post.id }}" 
            data-model="GeneralPost"> 
      ğŸµ í•˜ëª¨ë‹ˆ(ì¢‹ì•„ìš”) <span id="like-count">{{ post.likes }}</span>  <!-- ì•„ì´ì½˜ ë° ì¢‹ì•„ìš” ìˆ˜  // ì¢‹ì•„ìš” ìˆ˜ -->
    </button>
  </div>
  
  <a href="{% url 'community:home' %}" class="btn hover-effect">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>   <!-- ëª©ë¡ ë³µê·€ ë²„íŠ¼  // ë³µê·€ ë²„íŠ¼ -->
</article>

<hr>                                                                    <!-- êµ¬ë¶„ì„  ì¶”ê°€  // êµ¬ë¶„ì„  -->

<section class="comments-section">                                       <!-- ëŒ“ê¸€ ì„¹ì…˜ ì‹œì‘  // ëŒ“ê¸€ ì„¹ì…˜ ì‹œì‘ -->
  <h2>ëŒ“ê¸€</h2>                                                          <!-- ëŒ“ê¸€ ì„¹ì…˜ ì œëª©  // ëŒ“ê¸€ ì œëª© -->

  <!-- ëŒ“ê¸€ ì…ë ¥ í¼ ì‹œì‘  // ëŒ“ê¸€ í¼ ì‹œì‘ -->
  <form method="post" action="">                                           <!-- í¼ íƒœê·¸ (í˜„ì¬ URLì— ì „ì†¡)  // í¼ ì‹œì‘ -->
    {% csrf_token %}                                                     <!-- CSRF í† í°  // CSRF í† í° -->
    {{ comment_form.as_p }}                                                <!-- ëŒ“ê¸€ í¼ í•„ë“œ ë Œë”ë§  // í¼ í•„ë“œ -->
    <button type="submit" class="btn btn-primary">ëŒ“ê¸€ ì‘ì„±</button>         <!-- ì œì¶œ ë²„íŠ¼  // ì œì¶œ ë²„íŠ¼ -->
  </form>                                                                 <!-- ëŒ“ê¸€ í¼ ë  // í¼ ë -->

  <!-- ëŒ“ê¸€ ëª©ë¡ ì¶œë ¥  // ëŒ“ê¸€ ëª©ë¡ ì¶œë ¥ -->
  {% if comments %}                                                       <!-- ëŒ“ê¸€ ì¡´ì¬ ì—¬ë¶€ ì²´í¬  // ëŒ“ê¸€ í™•ì¸ -->
    {% for comment in comments %}                                         <!-- ê° ëŒ“ê¸€ ë°˜ë³µ  // ëŒ“ê¸€ ë°˜ë³µ -->
      <div class="comment" style="border: 1px solid #ccc; margin-top:10px; padding:10px;"> <!-- ëŒ“ê¸€ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼  // ëŒ“ê¸€ ìŠ¤íƒ€ì¼ -->
        <p>{{ comment.content }}</p>                                     <!-- ëŒ“ê¸€ ë‚´ìš© ì¶œë ¥  // ëŒ“ê¸€ ë‚´ìš© -->
        <small>ì‘ì„±ì¼: {{ comment.created_at|date:"Y-m-d H:i" }}</small>  <!-- ëŒ“ê¸€ ì‘ì„±ì¼ ì¶œë ¥  // ì‘ì„±ì¼ -->
      </div>
    {% endfor %}
  {% else %}                                                              <!-- ëŒ“ê¸€ì´ ì—†ì„ ê²½ìš°  // ëŒ“ê¸€ ì—†ìŒ -->
    <p>ì‘ì„±ëœ ëŒ“ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>                                          <!-- ëŒ“ê¸€ ì—†ìŒ ë©”ì‹œì§€  // ë©”ì‹œì§€ -->
  {% endif %}
</section>

{% endblock %}